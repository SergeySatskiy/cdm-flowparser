# -*- coding: utf-8 -*-
#
# codimension - graphics python two-way code editor and analyzer
# Copyright (C) 2012  Sergey Satskiy <sergey.satskiy@gmail.com>
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
# $Id$
#


CML - Codimension Markup Language

The language uses python comment strings to inject additional information.
This information can be used in different ways, e.g.:
- provide hints of how to display control flow
- provide additional links on diagrams
- suggest colors for code blocks
- etc.

Common format of the CML statements is as follows:

# cml <version ID> <record type> <record subtype> [all the rest]

where:
- <versio ID> is a CML version, e.g. 1.0
- <record type> is a record type identifier. Version 1.0 supports two types of
  records:
  I - independent record. That means that the record does not need a paired
      record to mark an end of the markup scope.
  S - scope record. That means that later on there must be a paired markup
      record.
  C - continue of a previous record. This allows to have multilined records of
      any type.
- <record subtype> is a subtype identifier. Version 1.0 supports the following:
  SB - scope begin record. It must have UUID as the first item in the
       [all the rest] part.
  SE - scope end record. It must have UUID as the first item in the
       [all the rest] part.

The end of records is implicit. It is an absence of the 'C' subtype record as
the next line.



Example of a single line scope record:

# cml 1.0 S SB 1234-123456-123456-1234 Calculation of a checksum

...
Some python code
...

# cml 1.0 S SE 1234-123456-123456-1234


The same as multilined record:

# cml 1.0 S SB 1234-123456-123456-1234
# cml 1.0 C Calculation of a checksum

...
Some python code
...

# cml 1.0 S SE 1234-123456-123456-1234


Note: having a record type and subtype is technically excessive. It however
provides a generic way of extending cml without breaking forward compatibility.
The recod types are fixed so starting from the very first version it'll be
properly recognised by codimension and in case of scope records they will be
properly matched. The record subtypes are for extending. If an earlier version
does not recognize a subtype it will be able to skip it safely.



Candidates for the other record subtypes:
- L link to a web resource
- F local file system resource
- B background color for the further code blocks


